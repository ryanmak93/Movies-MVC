@model ICollection<MovieApp.Models.Movie>
@{
    ViewBag.Title = "Manage Movies";
}

<span style="color:green; font-size:24px">@TempData["Success"]</span>
<span style="color:red; font-size:24px">@TempData["Error"]</span> 

<link href="@Url.Content("~/Styles/Manage.css")" rel="stylesheet" type="text/css" />

<h2>Manage Movies</h2>

<table>
    <thead>
        <tr><th>@Html.ActionLink( "New", "Create", "Movie")  </th><th>Title</th><th>Year</th><th>Genres</th></tr>
    </thead>
    <tbody>
        @foreach (var movie in Model.OrderBy(m => m.Title))
        {
            <tr>
                <td>@Html.ActionLink("Edit", "Edit", "Movie", new { id = @movie.Id }, null)</td>
                <td>@movie.Title</td>
                <td>@movie.Year</td>
                <td>
                    @foreach (var genre in @movie.Genres.OrderBy(g => g.Name))
                    {
                        <ul class="tdlist">@genre.Name</ul>
                    }
                </td>
            </tr>
        }
    </tbody>
</table> 

<script src="@Url.Content("~/Scripts/Movie.js")" type="text/javascript"></script>
